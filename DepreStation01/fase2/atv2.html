<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fase 2 - Atividade 2</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Press Start 2P', sans-serif;
    margin:0;
    padding:0;
    background: black;
    background-size: cover;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    height:100vh;
    color:#fff;
    text-align:center;
  }

  h1 {
    margin-bottom: 30px;
  }

  .bloco {
    width:300px;
    background:#4b4b4b;
    border-radius:12px;
    padding:20px;
    margin-bottom:20px;
    font-size:24px;
    animation: aparecer 0.5s ease;
  }

  @keyframes aparecer {
    0% { transform: scale(0.5); opacity:0; }
    100% { transform: scale(1); opacity:1; }
  }

  .opcao {
    width:250px;
    padding:10px;
    margin:8px 0;
    border-radius:10px;
    cursor:pointer;
    background:#5c4dff;
    color:#fff;
    font-size:16px;
    transition: transform 0.2s, box-shadow 0.2s;
  }

  .opcao:hover {
    transform: scale(1.05);
    box-shadow:0 0 10px #a08fff;
  }

  .acertou { border: 3px solid #00ff00; }
  .errou { border: 3px solid #ff0000; }

  .feedback {
    margin-top:20px;
    height:20px;
    font-size:14px;
  }

</style>
</head>
<body>

<h1>Separe as sílabas corretamente!</h1>
<div id="bloco" class="bloco"></div>
<div id="opcoes"></div>
<div class="feedback" id="feedback"></div>

<audio id="somAcerto" src="ding.mp3"></audio>
<audio id="somErro" src="bzz.mp3"></audio>

<script>
const palavras = [
  { palavra:"banana", opcoes:["ba-na-na", "ban-ana", "bana-na"], correta:0 },
  { palavra:"cachorro", opcoes:["ca-chor-ro","cach-or-ro","ca-chor-ro"], correta:0 },
  { palavra:"computador", opcoes:["com-pu-ta-dor","compu-ta-dor","com-putador"], correta:0 },
  { palavra:"amarelo", opcoes:["a-ma-re-lo","am-are-lo","ama-re-lo"], correta:0 },
  { palavra:"escola", opcoes:["es-co-la","escol-a","e-sco-la"], correta:0 }
];

let indice = 0;
let acertos = 0;

const bloco = document.getElementById('bloco');
const opcoesDiv = document.getElementById('opcoes');
const feedback = document.getElementById('feedback');
const somAcerto = document.getElementById('somAcerto');
const somErro = document.getElementById('somErro');

function mostrarPalavra(){
  if(indice >= palavras.length){
    if(acertos >= Math.ceil(palavras.length/2)){
      feedback.textContent = "Parabéns! Próxima atividade desbloqueada!";
      setTimeout(()=> window.location.href="atv3.html", 2000);
    } else {
      feedback.textContent = "Tente novamente para avançar!";
    }
    return;
  }

  const atual = palavras[indice];
  bloco.textContent = atual.palavra;
  opcoesDiv.innerHTML = '';

  atual.opcoes.forEach((op, i)=>{
    const btn = document.createElement('button');
    btn.className = 'opcao';
    btn.textContent = op;
    btn.addEventListener('click', ()=>{
      if(i === atual.correta){
        btn.classList.add('acertou');
        somAcerto.play();
        acertos++;
      } else {
        btn.classList.add('errou');
        somErro.play();
      }
      indice++;
      setTimeout(mostrarPalavra, 800);
    });
    opcoesDiv.appendChild(btn);
  });

  feedback.textContent = '';
}

mostrarPalavra();
</script>

</body>
</html>
