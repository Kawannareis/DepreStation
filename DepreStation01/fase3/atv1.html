<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fase 3 - Monte a Palavra</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Press Start 2P', sans-serif;
    background-color: #000000;
    text-align: center;
    margin: 0;
    padding: 20px;
  }

  h1 {
    color: #ffffff;
    font-size: 18px;
    margin-bottom: 10px;
  }

  .emoji {
    font-size: 60px;
    margin-bottom: 20px;
  }

  #syllables {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin-bottom: 20px;
  }

  .syllable {
    background-color: #75e6da;
    border: 2px solid #05445e;
    border-radius: 10px;
    padding: 15px 20px;
    cursor: pointer;
    font-size: 14px;
    transition: transform 0.2s;
  }

  .syllable:hover {
    transform: scale(1.1);
  }

  #wordArea {
    background-color: #797979;
    border: 2px dashed #000000;
    border-radius: 10px;
    padding: 15px;
    min-height: 40px;
    font-size: 16px;
    margin-bottom: 20px;
  }

  #message {
    font-size: 14px;
    color: #05445e;
    min-height: 24px;
  }

  #nextButton {
    display: none;
    background-color: #05445e;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 10px 20px;
    cursor: pointer;
    font-family: 'Press Start 2P';
    font-size: 12px;
  }

  #nextButton:hover {
    background-color: #189ab4;
  }
</style>
</head>
<body>

<h1>Monte a Palavra!</h1>
<div class="emoji" id="emoji"></div>
<div id="wordArea"></div>
<div id="syllables"></div>
<div id="message"></div>
<button id="nextButton" onclick="nextWord()">Pr√≥xima Palavra</button>

<script>
  const palavras = [
    { emoji: "üéÇ", palavra: "BOLO", silabas: ["BO", "LO"] },
    { emoji: "üè†", palavra: "CASA", silabas: ["CA", "SA"] },
    { emoji: "üê∂", palavra: "CACHORRO", silabas: ["CA", "CHOR", "RO"] },
    { emoji: "üå∏", palavra: "FLOR", silabas: ["FLOR"] },
    { emoji: "üçé", palavra: "MA√á√É", silabas: ["MA", "√á√É"] }
  ];

  let indice = 0;
  let resposta = "";

  function embaralhar(array) {
    return array.sort(() => Math.random() - 0.5);
  }

  function carregarPalavra() {
    const atual = palavras[indice];
    document.getElementById("emoji").textContent = atual.emoji;
    document.getElementById("wordArea").textContent = "";
    document.getElementById("message").textContent = "";
    document.getElementById("nextButton").style.display = "none";
    resposta = "";

    const container = document.getElementById("syllables");
    container.innerHTML = "";
    const silabasEmbaralhadas = embaralhar([...atual.silabas]);

    silabasEmbaralhadas.forEach(silaba => {
      const span = document.createElement("span");
      span.textContent = silaba;
      span.className = "syllable";
      span.onclick = () => selecionarSilaba(silaba, span);
      container.appendChild(span);
    });
  }

  function selecionarSilaba(silaba, elemento) {
    resposta += silaba;
    document.getElementById("wordArea").textContent = resposta;
    elemento.style.visibility = "hidden";

    if (resposta.length >= palavras[indice].palavra.length) {
      verificarResposta();
    }
  }

  function verificarResposta() {
    const mensagem = document.getElementById("message");
    if (resposta === palavras[indice].palavra) {
      mensagem.textContent = "‚ú® Muito bem! Voc√™ montou " + palavras[indice].palavra + "!";
      document.getElementById("nextButton").style.display = "inline-block";
    } else {
      mensagem.textContent = "‚ùå Tente novamente!";
      setTimeout(carregarPalavra, 1000);
    }
  }

  function nextWord() {
    indice++;
    if (indice < palavras.length) {
      carregarPalavra();
    } else {
      document.body.innerHTML = `
        <h1>üéâ Parab√©ns!</h1>
        <p>Voc√™ completou todas as palavras!</p>
        <button onclick="window.location.href='atv2.html'">Avan√ßar para a pr√≥xima atividade ‚û°Ô∏è</button>
      `;
    }
  }

  carregarPalavra();
</script>

</body>
</html>
